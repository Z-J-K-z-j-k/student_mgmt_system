import random

# ---------------------------
# 1. 4 类课程（共 120 门）
# ---------------------------

general_courses = [
    "大学英语A","大学英语B","高等数学A1","高等数学A2","线性代数","概率论与数理统计",
    "思想道德与法治","马克思主义基本原理","中国近现代史纲要","形势与政策",
    "大学体育1","大学体育2","军事理论","创新创业基础","心理健康教育",
    "大学物理A","大学物理B","大学写作","哲学与人生","逻辑学基础",
    "美术鉴赏","音乐鉴赏","公共演讲","法律基础","工程伦理",
    "职业规划","跨文化沟通","美学概论","计算思维基础","专业导论"
]

basic_courses = [
    "C语言程序设计","面向对象程序设计","数据结构","离散数学","数字逻辑","电路与电子技术",
    "数据库系统原理","算法设计与分析","计算机组成原理","操作系统基础",
    "计算机网络基础","Java程序设计","Python程序设计","编译原理","软件工程基础",
    "人工智能导论","电子电路实验","大数据技术基础","嵌入式系统基础","信号与系统",
    "线性系统理论","移动应用基础","信息系统分析","互联网技术基础","物联网概论",
    "网络与通信基础","工程数学","数字图像处理基础","程序设计实验","电路分析基础"
]

core_courses = [
    "机器学习","深度学习","自然语言处理","计算机视觉","嵌入式系统设计","操作系统原理",
    "高级数据结构","模式识别","网络安全技术","智能机器人基础",
    "云计算技术","大数据存储系统","强化学习","推荐系统","智能控制",
    "软件体系结构","分布式系统","移动互联网技术","虚拟现实原理","人机交互技术",
    "人工神经网络","高性能计算","密码学","区块链原理","数据库高级专题",
    "机器学习工程实践","算法高级专题","跨媒体计算","多模态学习","智能感知技术"
]

elective_courses = [
    "数字媒体技术","现代密码学","智能机器人","Java Web开发","Python应用开发",
    "Web前端开发","大数据可视化","游戏设计基础","虚拟现实技术","数据挖掘",
    "信息检索","计算摄影学","人工智能伦理","现代通信系统","区块链应用开发",
    "动画技术基础","Web3技术基础","移动端UI设计","智能家居技术","智能驾驶入门",
    "图形学基础","音频信号处理","视频编码技术","数字孪生技术","机器人操作系统ROS",
    "数据隐私保护","程序语言理论","知识图谱技术","自然科学导论","脑机接口基础"
]

# 合并 120 门课
all_courses = general_courses + basic_courses + core_courses + elective_courses

if len(all_courses) != 120:
    print(f"❌ 课程数量不是 120，当前 = {len(all_courses)}")
    exit()

# ---------------------------
# 2. 学期分配（8 个学期 × 每学期 15 门课）
# ---------------------------

semesters = [
    "2023-2024-1", "2023-2024-2",
    "2024-2025-1", "2024-2025-2",
    "2025-2026-1", "2025-2026-2",
    "2026-2027-1", "2026-2027-2"
]

# ---------------------------
# 3. teacher_id（01~60），每个老师都有课且刚好 2 门
# ---------------------------

teacher_ids = [f"{i:02d}" for i in range(1, 61)]
# 每个老师重复 2 次 → 120 门课
teacher_pool = [tid for tid in teacher_ids for _ in range(2)]
random.shuffle(teacher_pool)  # 打乱分配顺序

# ---------------------------
# 4. 生成 SQL
# ---------------------------

output = []
course_counter = 1
idx = 0

for sem in semesters:
    for i in range(15):
        course_name = all_courses[idx]
        teacher_id = teacher_pool[idx]          # 已经是 '01' 这种
        credit = random.randint(1, 5)
        course_id = f"2023{course_counter:03d}"  # xxx2023

        # 注意：course_id 和 teacher_id 都用字符串引号
        sql = f"('{course_id}', '{course_name}', '{teacher_id}', {credit}, '{sem}')"
        output.append(sql)

        idx += 1
        course_counter += 1

# ---------------------------
# 5. 写入文件
# ---------------------------

sql_text = "INSERT INTO courses (course_id, course_name, teacher_id, credit, semester) VALUES\n"
sql_text += ",\n".join(output) + ";"

with open("courses.sql", "w", encoding="utf-8") as f:
    f.write(sql_text)

print("✅ 已生成 courses.sql，共 120 条课程记录（每个老师 2 门课）")
